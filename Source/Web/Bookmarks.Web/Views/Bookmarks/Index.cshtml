@using Bookmarks.Web.ViewModels.Bookmarks
@model IEnumerable<ThumbnailBookmarkViewModel>
<div class="row">
    <p class="col-md-1"><strong>Search:</strong> </p>

    @using (Ajax.BeginForm("Search", new { data = ViewContext.RouteData },
                new AjaxOptions
                {
                    UpdateTargetId = "results",
                    InsertionMode = InsertionMode.Replace,
                    HttpMethod = "POST"
                },
                new
                {
                    id = "searchForm",
                    @class = "col-md-3",
                    autocomplete = "off"
                }))
    {
        <input type="text" name="query" oninput="changed()" />
    }
</div>


<div id="results">
    @Html.Partial("_BookmarkResult", Model)
</div>

@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

    <script>
        function changed() {
            $("#searchForm").submit();
        }
    </script>
}